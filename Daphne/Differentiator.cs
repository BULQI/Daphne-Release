using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace Daphne
{
    public class Differentiator : TransitionDriver
    {
    //    private Random ran;
    //    private Cell cell;
    //    private MolecularPopulation[] geneActivities;
    //    // there must be exactly one signal for each differentiation state
    //    //private MolecularPopulation[,] signals;
    //    private int nStates;
    //    public int[,] DifferentationMatrix;

    //    // Reusable array of rates 
    //    private double[] stepRates;

    //    public Differentiator(MolecularPopulation[,] _signals, MolecularPopulation[] _genes, Cell _cell)
    //    {
    //        //ran = new Random();
    //        //geneActivities = _genes;
    //        //SignalingMolecule = _signals;   
    //        //// signals = _signals;
    //        //cell = _cell;
    //        ////nStates = signals.GetLength(0);
    //        //nStates = SignalingMolecule.GetLength(0);
    //    }

    //    public void Step(double dt)
    //    {
    //        double u = ran.NextDouble();
    //        double someEventRate = 0;

    //        // Determine transition rate for some event to occur
    //        for (int i = 0; i < nStates; i++)
    //        {
    //            someEventRate += (Alpha[Flag, i] + Beta[Flag, i] * SignalingMolecule[Flag, i].Conc.MeanValue();
    //        }

    //        for (int i = 0; i < nStates; i++)
    //        {
    //            if (cell.DifferentiationState == i) continue;



    //            if ( SignalingMolecule[Flag, i] != null ) && ( u < dt * (Alpha[Flag, i] + Beta[Flag, i] * SignalingMolecule[Flag, i].Conc.MeanValue() ) )
    //            {
                    

    //            }

    //            //if (signals[cell.DiffState, i] != null && u < signals[cell.DiffState, i].Conc * dt)
    //            //{
    //            //    cell.DiffState = i;
    //            //    for (int iGene = 0; iGene < geneActivities.Length; iGene++)
    //            //    {
    //            //        geneActivities[iGene].Conc = DifferentationMatrix[i,iGene];
    //            //    }
    //            //}
    //        }
       
    //    }
    }
}
