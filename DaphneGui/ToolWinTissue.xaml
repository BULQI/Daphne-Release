<local:ToolWinBase x:Class="DaphneGui.ToolWinTissue"
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib"
                    xmlns:local="clr-namespace:DaphneGui"
                    xmlns:daph="clr-namespace:Daphne;assembly=Daphne"     
                    xmlns:shared="http://schemas.actiprosoftware.com/winfx/xaml/shared"
                    xmlns:editors="http://schemas.actiprosoftware.com/winfx/xaml/editors"
                    xmlns:docking="http://schemas.actiprosoftware.com/winfx/xaml/docking"
                    xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"                    
                    xmlns:uc="clr-namespace:DaphneUserControlLib;assembly=DaphneUserControlLib"
                    ImageSource="Images/Properties16.png"
                    x:Name="toolWinTissue"
                    >

    <TabControl  x:Name="ConfigTabControl" Grid.Column="0" TabStripPlacement="Top" SelectionChanged="ConfigTabControl_SelectionChanged" AutomationProperties.AutomationId="DaphneTabsControl">

        <!-- for debugging -->
        <!--
        <local:DataContextConverter x:Key="dataContextConverter" />
        -->
        
        <!-- SIM SETUP -->
            <TabItem Header="Sim Setup" x:Name="tabSimSetup" AutomationProperties.AutomationId="DaphneSimSetupTab">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <local:SimSetupControl DataContext="{Binding}"/>                     
                </ScrollViewer>
            </TabItem>

        <!-- EXTRACELLULAR MEDIUM -->
        <TabItem x:Name="tabECM" Header="Extracellular Medium" AutomationProperties.AutomationId="DaphneECMTab" >
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <!-- add control -->
                <!--This is temporary-->
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Name="ConfigStackPanel" Orientation="Vertical" Margin="8">
                        <!-- Environment -->
                        <!-- Remove reaction complexes for now 10/15/13 -->
                        <!-- Reaction Complexes -->
                        <Expander
                            Visibility="Visible"
                            Padding="5" 
                            ExpandDirection="Down"
                            IsExpanded="False"
                            Header="Reaction Complexes"                                            
                            x:Name="ReacCompExpander"
                            Margin="0,5,0,0" 
                            Canvas.ZIndex="1"
                            BorderThickness="1"
                            BorderBrush="Black"
                            Background="{shared:LinearGradientBrush #EEEEEE, #CCCCCC, GradientType=TopLeftToBottomRight}" >

                            <StackPanel>
                                <local:ReactionComplexControl x:Name="RCControl" 
                                    DataContext="{Binding Path=MW.SOP.Protocol.scenario.environment.comp, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </StackPanel>
                        </Expander>

                        <Expander ExpandDirection="Down"
                            IsExpanded="False"
                            Header="Add reaction complex"
                            x:Name="AddReacCxExpander"
                            Margin="0,5,0,0" 
                            Canvas.ZIndex="1"
                            BorderThickness="1"
                            BorderBrush="Black"
                            Background="{shared:LinearGradientBrush #EEEEEE, #CCCCCC, GradientType=TopLeftToBottomRight}" >

                                <StackPanel Orientation="Vertical" Margin="10,0">
                                    <!--<StackPanel.Resources>
                                        <DataTemplate x:Key="reacCxListItemTemplate">
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="{Binding Path=Name}" />
                                            </StackPanel>
                                        </DataTemplate>

                                    </StackPanel.Resources>-->

                                    <!--<TextBlock Text="Reaction Complexes Library"  Margin="0,0,6,0" />
                                    <ListBox x:Name="lbAvailableReacCx" Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Margin="0,0,6,0" MinHeight="50" AlternationCount="2"                                                        
                                        ItemsSource="{Binding Path=entity_repository.reaction_complexes}"                                                      
                                        ItemTemplate="{Binding Source={StaticResource reacCxListItemTemplate}}"
                                        SelectedIndex="0"
                                    >
                                    </ListBox>-->
                                    <!--<StackPanel Orientation="Vertical" HorizontalAlignment="Right" Margin="0,0,6,0" Canvas.ZIndex="10">
                                        <Button Name="AddReacCxButton"  Width="50" Content="Add" Click="AddEcmReacCompButton_Click"/>
                                    </StackPanel>-->

                                    <!--<ContentControl Name="AddReactionComplexDetails"
                                        Content="{Binding ElementName=lbAvailableReacCx, Path=SelectedItem}" 
                                        ContentTemplate="{StaticResource reacListViewTemplate}" 
                                        Margin="6"/>-->

                                </StackPanel>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </ScrollViewer>
        </TabItem>

        <!-- LIBRARY CELL POPULATIONS -->
        <TabItem x:Name="tabCellPop" Header="Cell Populations" AutomationProperties.AutomationId="DaphneCellPopsTab">
            <ScrollViewer VerticalScrollBarVisibility="Auto">                
                <!-- add control -->
                <StackPanel Name="EntitiesStackPanel" Orientation="Vertical" Margin="8"
                    MouseLeftButtonDown="EntitiesStackPanel_LeftButtonDown"
                            KeyDown="EntitiesStackPanel_KeyDown">
                    
                    <TextBox Name="txtTest" Width="100"></TextBox>
                </StackPanel>

            </ScrollViewer>
        </TabItem>

        <!-- REPORTS -->
        <TabItem Header="Reports" x:Name="tabReports" Loaded="ReportsTabItem_Loaded" AutomationProperties.AutomationId="DaphneReportsTab">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                
                <!-- Report Settings -->
                <!--<ContentControl Name="ReportSettings"
                                Content="{Binding}"
                                ContentTemplate="{StaticResource reportSettingsTemplate}" 
                                Margin="6"
                />-->
                
                
            </ScrollViewer>
        </TabItem>

    </TabControl>
 
    

    
</local:ToolWinBase>

 